Codebook — Structured Reference
Purpose: A compact, hierarchical presentation of the annotation rules. Each node is listed with its exact logical test. Node IDs are preserved in [BRACKET] form. Logical operators (Not, And, Or, Either, Both, Exactly one, All) and relationships are unchanged; they are shown as clear, indented conditions so annotators can reason step-by-step.

1) Atomic/Surface Labels
- [THEME-PROBLEM-SOLVING]
  - A story is [THEME-PROBLEM-SOLVING] if:
    - The story has the theme Problem-Solving

- [TOPIC-MYSTICAL-CREATURES]
  - A story is [TOPIC-MYSTICAL-CREATURES] if:
    - The story is about mystical creatures

- [SHORT-STORY]
  - A story is [SHORT-STORY] if:
    - The story has fewer than 160 words

- [TOPIC-TIME-TRAVEL]
  - A story is [TOPIC-TIME-TRAVEL] if:
    - The story is about time travel

- [USES-DISCOURSE-MARKERS]
  - A story is [USES-DISCOURSE-MARKERS] if:
    - The story uses discourse markers

- [TOPIC-CULTURAL-TRADITIONS]
  - A story is [TOPIC-CULTURAL-TRADITIONS] if:
    - The story is about cultural traditions

- [THEME-INNOVATION]
  - A story is [THEME-INNOVATION] if:
    - The story has the theme Innovation

- [STARTS-WITH-ADVERB]
  - A story is [STARTS-WITH-ADVERB] if:
    - The story starts with an adverb

- [THEME-HELPING-OTHERS]
  - A story is [THEME-HELPING-OTHERS] if:
    - The story has the theme Helping Others

- [HAS-JUXTAPOSITION]
  - A story is [HAS-JUXTAPOSITION] if:
    - The story has juxtaposition

- [STYLE-PLAYFUL]
  - A story is [STYLE-PLAYFUL] if:
    - The story is playful

- [HAS-A-RED-HERRING]
  - A story is [HAS-A-RED-HERRING] if:
    - The story has a Red Herring

- [THEME-HARDSHIP]
  - A story is [THEME-HARDSHIP] if:
    - The story has the theme Hardship

- [THEME-HUMOR]
  - A story is [THEME-HUMOR] if:
    - The story has the theme Humor

- [THEME-AGENCY]
  - A story is [THEME-AGENCY] if:
    - The story has the theme Agency

- [HAS-A-FLASHBACK]
  - A story is [HAS-A-FLASHBACK] if:
    - The story has a flashback

- [USES-PERFECT-ASPECT]
  - A story is [USES-PERFECT-ASPECT] if:
    - The story uses perfect aspect

- [USES-CONDITIONAL-MOOD]
  - A story is [USES-CONDITIONAL-MOOD] if:
    - The story uses conditional mood

- [USES-WH-QUESTIONS]
  - A story is [USES-WH-QUESTIONS] if:
    - The story uses wh-questions

- [THEME-KINDNESS]
  - A story is [THEME-KINDNESS] if:
    - The story has the theme Kindness

- [HAS-A-MORAL-LESSON]
  - A story is [HAS-A-MORAL-LESSON] if:
    - The story has a moral lesson

- [STYLE-HUMOROUS]
  - A story is [STYLE-HUMOROUS] if:
    - The story is humorous

- [LOW-READABILITY]
  - A story is [LOW-READABILITY] if:
    - The story has readability score below 86.4

- [MANY-PARAGRAPHS]
  - A story is [MANY-PARAGRAPHS] if:
    - The story has more than 6 paragraphs

- [HAS-A-CLIFFHANGER]
  - A story is [HAS-A-CLIFFHANGER] if:
    - The story has a cliffhanger

- [TOPIC-MAGICAL-LANDS]
  - A story is [TOPIC-MAGICAL-LANDS] if:
    - The story is about magical lands

- [TOPIC-GIANT-CREATURES]
  - A story is [TOPIC-GIANT-CREATURES] if:
    - The story is about giant creatures

- [THEME-GROWTH]
  - A story is [THEME-GROWTH] if:
    - The story has the theme Growth

- [LONG-STORY]
  - A story is [LONG-STORY] if:
    - The story has more than 375 words

2) Small Compound / Set Membership
- [FANTASY-TOPICS]
  - A story is [FANTASY-TOPICS] if:
    - The story is in [TOPIC-MYSTICAL-CREATURES, TOPIC-MAGICAL-LANDS, TOPIC-GIANT-CREATURES]

3) Simple Or / Either Compositions
- [MAGICAL-STORY]
  - A story is [MAGICAL-STORY] if either of the following is true:
    - The story is [TOPIC-MAGICAL-LANDS]
    - The story is [TOPIC-MYSTICAL-CREATURES]

4) Conjunctions (All / Both)
- [EPIC-TALE]
  - A story is [EPIC-TALE] if all of the following are true:
    - The story is [LONG-STORY]
    - The story is either [TOPIC-GIANT-CREATURES] or [TOPIC-MAGICAL-LANDS]
    - The story is [THEME-GROWTH]

- [SHORT-MAGICAL]
  - A story is [SHORT-MAGICAL] if both of the following are true:
    - The story is [SHORT-STORY]
    - The story is [MAGICAL-STORY]

5) Nested Either/Or Structures
- [TIME-TRAVEL-PARADOX]
  - A story is [TIME-TRAVEL-PARADOX] if both of the following are true:
    - The story is [TOPIC-TIME-TRAVEL]
    - Either of the following is true:
      - The story is [HAS-A-RED-HERRING]
      - The story is [HAS-A-FLASHBACK]

- [COMPLEX-STRUCTURE]
  - A story is [COMPLEX-STRUCTURE] if both of the following are true:
    - The story is [MANY-PARAGRAPHS]
    - Both of the following are true:
      - The story is [HAS-A-FLASHBACK]
      - The story is [HAS-A-CLIFFHANGER]

6) Voice & Narrative Indicators
- [NARRATIVE-VOICE]
  - A story is [NARRATIVE-VOICE] if either of the following is true:
    - The story is [STARTS-WITH-ADVERB]
    - The story is [USES-DISCOURSE-MARKERS]
    - The story is [USES-WH-QUESTIONS]

7) Exclusive (Exactly One)
- [HUMOROUS-PLAYFUL]
  - A story is [HUMOROUS-PLAYFUL] if exactly one of the following is true:
    - The story is [STYLE-HUMOROUS]
    - The story is [STYLE-PLAYFUL]

8) Thematic Conjunctions
- [MORAL-KINDNESS]
  - A story is [MORAL-KINDNESS] if both of the following are true:
    - The story is [THEME-KINDNESS]
    - The story is [HAS-A-MORAL-LESSON]

- [HELPFUL-INNOVATOR]
  - A story is [HELPFUL-INNOVATOR] if all of the following are true:
    - The story is [THEME-INNOVATION]
    - The story is [THEME-HELPING-OTHERS]
    - Either of the following is true:
      - The story is [THEME-AGENCY]
      - The story is [THEME-PROBLEM-SOLVING]

- [GROWTH-FROM-HARDSHIP]
  - A story is [GROWTH-FROM-HARDSHIP] if both of the following are true:
    - The story is [THEME-GROWTH]
    - The story is [THEME-HARDSHIP]

9) Readability & Length Interplay
- [ENGAGING-READABILITY]
  - A story is [ENGAGING-READABILITY] if both of the following are true:
    - The story is not [LOW-READABILITY]
    - Either of the following is true:
      - The story is [SHORT-STORY]
      - The story is [LONG-STORY]

- [BRIEF-CHOICE]
  - A story is [BRIEF-CHOICE] if both of the following are true:
    - The story is [SHORT-STORY]
    - Exactly one of the following is true:
      - The story is [THEME-HUMOR]
      - The story is [THEME-HARDSHIP]

10) Interaction of Discourse Features
- [QUESTION-DRIVEN]
  - A story is [QUESTION-DRIVEN] if both of the following are true:
    - The story is [USES-WH-QUESTIONS]
    - The story is [USES-DISCOURSE-MARKERS]

11) Higher-Order Composites & Complex Logic
- [COMPLEX-LOGIC-STORY]
  - A story is [COMPLEX-LOGIC-STORY] if all of the following are true:
    - Either of the following is true:
      - The story is [TIME-TRAVEL-PARADOX]
      - The story is [MAGICAL-STORY]
    - Both of the following are true:
      - The story is [COMPLEX-STRUCTURE]
      - Either of the following is true:
        - The story is [NARRATIVE-VOICE]
        - The story is [ENGAGING-READABILITY]
    - Either of the following is true:
      - The story uses [USES-CONDITIONAL-MOOD]
      - The story uses [USES-PERFECT-ASPECT]

- [THEMATIC-FUSION]
  - A story is [THEMATIC-FUSION] if both of the following are true:
    - Either of the following is true:
      - The story is [HELPFUL-INNOVATOR]
      - The story is [MORAL-KINDNESS]
    - Either of the following is true:
      - The story is [GROWTH-FROM-HARDSHIP]
      - The story is [THEME-PROBLEM-SOLVING]

12) Pragmatic / Stylistic Filter
- [PRAGMATIC-VOICE]
  - A story is [PRAGMATIC-VOICE] if all of the following are true:
    - The story is [NARRATIVE-VOICE]
    - The story is not [STYLE-PLAYFUL]
    - Either of the following is true:
      - The story is [USES-PERFECT-ASPECT]
      - The story is [USES-CONDITIONAL-MOOD]

Usage Notes (for annotators)
- Read each node’s conditions top-to-bottom and evaluate the required subnodes exactly as written.
- Preserve logical operators when combining labels: “either” = inclusive OR, “both/all” = AND, “exactly one” = XOR, “not” = negation.
- Multi-level nodes reference other node IDs; determine those referenced nodes before concluding the parent node’s value.
- The structure above mirrors the original logical intent; use this as a stepwise checklist during annotation.

If you want, I can also produce a compact decision flow (tree) per high-level composite node to guide step-by-step annotation decisions.